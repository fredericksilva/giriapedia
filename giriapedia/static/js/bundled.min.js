!function(){"use strict";function t(t,r,i){t.otherwise("/"),r.tokenGetter=["store",function(t){return t.get("jwt")}],i.interceptors.push("jwtInterceptor")}function r(t,r,i,e){t.$on("$stateChangeStart",function(t,a,s,o,n){a.data&&a.data.requiresLogin&&(!i.get("jwt")||e.isTokenExpired(i.get("jwt")))&&("criarGiria"===a.name&&i.set("estado",s.stateC),t.preventDefault(),r.go("login"))})}function i(t,r){var i={url:"/",templateUrl:"static/js/partials/map.html",controller:"MapperController",controllerAs:"vm"},e={url:"/:state/",templateUrl:"static/js/partials/girias_state.html",controller:"GiriasEstado",controllerAs:"vm"},a={url:"/giria/:stateC/criar/",templateUrl:"static/js/partials/create_giria.html",controller:"GiriasEstado",controllerAs:"vm",data:{requiresLogin:!0}},s={url:"/giria/:stateC/:giria/significados/",templateUrl:"static/js/partials/giria_significados.html",controller:"GiriasEstado",controllerAs:"vm"},o={url:"/auth/login/",templateUrl:"static/js/partials/login.html",controller:"LoginCtrl",controllerAs:"vm"},n={url:"/auth/cadastrar/",templateUrl:"static/js/partials/signin.html",controller:"SignInCtrl",controllerAs:"vm"},c={url:"/auth/logout/",controller:"LogoutCtrl"};t.state("home",i).state("giriasEstado",e).state("criarGiria",a).state("giriaDescription",s).state("login",o).state("signin",n).state("logout",c)}angular.module("GiriaPedia",["ngAnimate","ui.bootstrap","ui.router","toastr","angular-jwt","angular-storage"]).config(t).run(r).config(i),t.$inject=["$urlRouterProvider","jwtInterceptorProvider","$httpProvider"],r.$inject=["$rootScope","$state","store","jwtHelper"],i.$inject=["$stateProvider","toastrConfig"]}(),function(){"use strict";function t(t,r,i,e,a,s){function o(){a.create(u.createGiria,function(t){t.success===!0?(s.success("Giria cadastrada com sucesso",null),n(),i.go("giriasEstado",{state:u.estadoAtual}),u.createGiria={state:u.estadoAtual}):s.error(t.error,"Error ao salvar")})}function n(){return a.list(u.estadoAtual,function(t){u.girias=t})}function c(){var t={giria:u.giriaAtual,state:u.estadoAtual};return a.find(t,function(t){u.giriaDesc=t})}function l(t){e.open({templateUrl:"static/js/partials/descriptionsModal.html",controller:"ModalDescriptionCtrl",controllerAs:"vm",resolve:{giriaData:function(){return{giria:t.giria,state:u.estadoAtual}}}})}var u=this;u.estadoAtual=r.state||r.stateC,u.giriaAtual=r.giria,u.createGiria={state:u.estadoAtual},u.saveGiria=o,u.openModal=l,void 0!==u.giriaAtual&&c(),n()}angular.module("GiriaPedia").controller("GiriasEstado",t),t.$inject=["$scope","$stateParams","$state","$modal","giriaServer","toastr"]}(),function(){"use strict";function t(t,r,i,e,a){var s=this;s.user={},s.login=function(){r.send(s.user,function(t){t.success===!0?(i.set("jwt",t.token),e.go("giriasEstado",{state:i.get("estado")}),a.success("Seja Bem Vindo")):(a.error(t.error),e.go("login"))})}}angular.module("GiriaPedia").controller("LoginCtrl",t),t.$inject=["$scope","loginServices","store","$state","toastr"]}(),function(){"use strict";function t(t,r){var i=this,e=function(){r.list(function(t){i.listEstados=t})};e()}angular.module("GiriaPedia").controller("MapperController",t),t.$inject=["$scope","estados"]}(),function(){"use strict";function t(t,r,i,e,a,s){function o(){r.dismiss("cancel")}function n(){return s.update(c.item,c.newDesc,function(t){t.success===!0&&(o(),e.success("Novo significado adicionado!",c.item.giria),i.go("giriasEstado",{state:c.item.state}))})}var c=this;c.item=a,c.close=o,c.addSignificado=n}angular.module("GiriaPedia").controller("ModalDescriptionCtrl",t),t.$inject=["$scope","$modalInstance","$state","toastr","giriaData","giriaServer"]}(),function(){"use strict";function t(t,r,i,e,a){function s(){r.send(o.newUser,function(t){t.success===!0?(i.success("Usuario cadastrado",null),e.set("jwt",t.token),a.go("giriasEstado",{state:e.get("estado")})):i.error("Error ao criar usuario","Usuario")})}var o=this;o.newUser={},o.createUser=s}angular.module("GiriaPedia").controller("SignInCtrl",t),t.$inject=["$scope","signinServices","toastr","store","$state"]}(),function(){"use strict";function t(){var t={};return t}angular.module("GiriaPedia").directive("createGiria",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"static/js/partials/create_user.html",controller:"SignInCtrl",controllerAs:"vm"};return t}angular.module("GiriaPedia").directive("createUser",t)}(),function(){"use strict";function t(t){return{list:function(r){t({method:"GET",url:"/estados/"}).success(r)}}}angular.module("GiriaPedia").factory("estados",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){return{list:function(r,i){t({method:"GET",url:"/girias/",params:{state:r}}).success(i)},find:function(r,i){t({method:"GET",url:"/girias/"+r.giria+"/"+r.state+"/"}).success(i)},update:function(r,i,e){t({method:"PUT",url:"/girias/"+r.giria+"/"+r.state+"/",data:i}).success(e)},create:function(r,i){t({method:"POST",url:"/girias/",data:r}).success(i)}}}angular.module("GiriaPedia").factory("giriaServer",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){return{send:function(r,i){t({method:"POST",url:"/login/",data:r}).success(i)}}}angular.module("GiriaPedia").factory("loginServices",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){return{send:function(r,i){t({method:"POST",url:"/signin/",data:r}).success(i)}}}angular.module("GiriaPedia").factory("signinServices",t),t.$inject=["$http"]}();